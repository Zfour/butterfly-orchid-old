;function AddFavorite(sURL,sTitle){try{window.external.addFavorite(sURL,sTitle)}catch(e){try{window.sidebar.addPanel(sTitle,sURL,"")}catch(e){alert("加入收藏失败，有劳您手动Ctrl+D添加。")}}}const catalogMagnet=new Vue({el:'#catalogMagnet',data:{message:'你好！',link:[],postnum:[],img:["https://i.loli.net/2020/11/29/aeOrFVXmQAPSUgN.jpg","https://i.loli.net/2020/11/29/kUy5KNRaIQXCwcY.jpg","https://i.loli.net/2020/11/29/taRHWykQpc3IM1Y.jpg","https://i.loli.net/2020/11/29/8vjtXLdAG1cesO6.jpg","https://i.loli.net/2020/11/29/PkXpOi6zKJa45ne.jpg","https://i.loli.net/2020/11/29/TULzgX85EPBkWOn.jpg","https://i.loli.net/2020/11/29/3wLVQDXcamCyFNM.jpg","https://i.loli.net/2020/11/29/Yl8ek3QdiAjOVgE.jpg",],describe:["日本早安新闻","vue学习记录","我的各种作品","我的学习整理","我的各种教程","我的游戏评测","生活点点滴滴","一切胡思乱想",],figLetColor:{color:'white'},figLetimg:{backgroundImage:'linear-gradient(to bottom,rgba(0, 0, 0, 0.4) 25%,rgba(16,16,16,0) 100%)'},figbackColor:{background:'#000000 URL()'},figShadow:{boxShadow:'inset 3px 3px 18px 0px rgba(50,50,50, 0.4)'},},});catalogMagnet.link=$(".categoryMagnetitem").children().children().children("a");catalogMagnet.postnum=$(".categoryMagnetitem").children().children().children("span");let linecolor=catalogMagnet.figLetColor.color;$("<style type='text/css' id='dynamic-after' />").appendTo("head");$("#dynamic-after").text(".magnetname:after{background:"+linecolor+"!important}");let newsurl="https://www.mxnzp.com/api/news/list?typeId=515&page=1&app_id="+newskey.id+"&app_secret="+newskey.key;$(function(){$.ajax({type:"GET",url:newsurl,dataType:"json",beforeSend:function(XMLHttpRequest){},success:function(data){gamenews.newsvue=data.data;gamenews.newsvue=gamenews.newsvue.slice(0,5)}})});const gamenews=new Vue({el:'#gamenews',data:{current:0,message:'你好！',newsvue:[],listtype:["游戏 ","军事 ","财经 ","科技 ","娱乐 "],listcode:["515","511","509","510","520"],newpostvue:{title:'',ptime:'',content:'',}},methods:{changetype(index){let changeurl="https://www.mxnzp.com/api/news/list?typeId="+this.listcode[index]+"&page=1&app_id="+newskey.id+"&app_secret="+newskey.key;$.ajax({type:"GET",url:changeurl,dataType:"json",beforeSend:function(XMLHttpRequest){},success:function(data){gamenews.newsvue=data.data;gamenews.newsvue=gamenews.newsvue.slice(0,5)}})},addClass:function(index){this.current=index;this.changetype(index)},replace(){for(let i=0;i<gamenews.newpostvue.images.length;i++){let errorlink='/img/404.jpg';let imagehttpslink=gamenews.newpostvue.images[i].imgSrc.replace(/http/g,'https');gamenews.newpostvue.content=gamenews.newpostvue.content.replace(gamenews.newpostvue.images[i].position,'<img src="'+imagehttpslink+'"style="width: 100%;padding: 5% 10%;" alt="">')}},hidemodle(){$("#newsmodal").hide();$(".blackscreen").hide()},getnewsdata(index){$("#newsmodal").show();$(".blackscreen").show();let posturl="https://www.mxnzp.com/api/news/details?newsId="+this.newsvue[index].newsId+"&app_id="+newskey.id+"&app_secret="+newskey.key;$.ajax({type:"GET",url:posturl,dataType:"json",beforeSend:function(XMLHttpRequest){},success:function(data){gamenews.newpostvue=data.data;gamenews.replace()}})},}});let locationurl='https://extreme-ip-lookup.com/json/';let cityname='';let weatherurl='';let userip='';const week=['SUN','MON','TUE','WED','THU','FRI','SAT'];$(function(){$.ajax({type:"GET",url:locationurl,dataType:"json",beforeSend:function(XMLHttpRequest){},success:function(data){cityname=data.city;if(typeof data.city=="undefined"){cityname=data.region}if(typeof data.region=="undefined"){cityname=data.country}userip=data.query;weatherurl='https://api.openweathermap.org/data/2.5/weather/?q='+cityname+'&units=metric&appid='+newskey.weather;getweatherdata()}})});function getweatherdata(){$(function(){$.ajax({type:"GET",url:weatherurl,dataType:"json",beforeSend:function(XMLHttpRequest){},success:function(data){clock.weatherimg='/images/weather/'+data.weather[0].icon+'.png';clock.temperature=data.main.temp+"*C";clock.humidity=data.main.humidity+"%";clock.ip=userip;clock.humidityimg='/images/weather/hu.png';clock.city=data.name;let timerID=setInterval(updateTime,1000);updateTime();clock.clockshow=true;function updateTime(){let cd=new Date();clock.time=zeroPadding(cd.getHours(),2)+':'+zeroPadding(cd.getMinutes(),2)+':'+zeroPadding(cd.getSeconds(),2);clock.date=zeroPadding(cd.getFullYear(),4)+'-'+zeroPadding(cd.getMonth()+1,2)+'-'+zeroPadding(cd.getDate(),2)+' '+week[cd.getDay()];let hamorpm=cd.getHours();let str;if(hamorpm>12){hamorpm-=12;str=" PM"}else{str=" AM"}clock.daylight=str}function zeroPadding(num,digit){let zero='';for(let i=0;i<digit;i++){zero+='0'}return(zero+num).slice(-digit)}updateTime()}})})}const clock=new Vue({el:'#clock',data:{ip:'',time:'',weatherimg:'',temperature:'',humidityimg:'',humidity:'',usaqi:'',city:'',date:'',daylight:'',clockshow:'false'},});
